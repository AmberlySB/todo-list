var Y=Object.defineProperty;var Z=(e,t,s)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var x=(e,t,s)=>(Z(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}})();let S;const $=new Uint8Array(16);function ee(){if(!S&&(S=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!S))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S($)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function te(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}const se=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),T={randomUUID:se};function U(e,t,s){if(T.randomUUID&&!t&&!e)return T.randomUUID();e=e||{};const n=e.random||(e.rng||ee)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){s=s||0;for(let o=0;o<16;++o)t[s+o]=n[o];return t}return te(n)}const j=(e="default Collection",t=U())=>{let s=[],n={};const o=(i,u=U())=>{var g;const L=Object.freeze({_id:u,data:i});return s=[...s,L],(g=n.add)==null||g.forEach(h=>h(L,{_id:u,title:e,collection:[...s]})),L},d=i=>{var L;const u=p(i);s=s.filter(g=>g._id!=i),(L=n.remove)==null||L.forEach(g=>g(u,{_id:t,title:e,collection:[...s]}))},p=i=>s.find(u=>u._id===i),f=i=>s.filter(({data:u})=>i(u)),q=()=>[...s];return{get _id(){return t},get title(){return e},add:o,remove:d,findById:p,find:f,findAll:q,update:(i,u)=>{var g;s=s.map(h=>h._id===i?Object.freeze({_id:h._id,data:u(h.data)}):h);const L=p(i);return(g=n.update)==null||g.forEach(h=>h(L,{_id:t,title:e,collection:[...s]})),p(i)},subscribe:(i,u)=>{n.hasOwnProperty(i)||(n[i]=[]),n[i].push(u)},unsubscribe:(i,u)=>{n[i]=n[i].filter(L=>L!==u)},toJSON:()=>JSON.stringify({_id:t,title:e,collection:q().map(({_id:i,data:u})=>({_id:i,data:u}))})}},v=()=>{localStorage.setItem("Projects",m.toJSON())},V=[],oe=()=>{localStorage.getItem("Projects")!==null&&(JSON.parse(localStorage.getItem("Projects")).collection.forEach(t=>{V.push(JSON.parse(t.data))}),V.forEach(t=>{if(t.title==="Inbox")t.collection.forEach(s=>y.add(s.data));else{r.push(t.title);const s=j(t.title,t._id);b.push(s),m.add(s),t.collection.forEach(n=>s.add(n.data))}}))};let r=["Inbox"],w;const m=j("Projects"),y=j("Inbox");m.add(y);function ne(e){if(e.preventDefault(),De.call(this)==="error")return;const t=this.projectName.value;r.push(t);let s=t.toLowerCase();s=j(t),b.push(s),m.add(s),z.reset()}const re=e=>{w=e.target.closest("div").id,r=r.filter(t=>t!==e.target.previousSibling.textContent),m.remove(w)},de=(e,t)=>{b[r.indexOf(e)].unsubscribe("add",I),b[r.indexOf(t)].subscribe("add",I),b[r.indexOf(e)].unsubscribe("remove",P),b[r.indexOf(t)].subscribe("remove",P),b[r.indexOf(e)].unsubscribe("update",C),b[r.indexOf(t)].subscribe("update",C)},ie=()=>{b.slice(1).forEach(e=>{e.subscribe("add",k),e.subscribe("add",v),e.subscribe("update",v),e.subscribe("update",O),e.subscribe("remove",v)})},b=[y];let D;class ce{constructor(t,s,n,o){x(this,"taskName");x(this,"description");x(this,"dueDate");x(this,"priority");this.taskName=t,this.description=s,this.dueDate=n,this.priority=o}}function le(e){e.preventDefault();const t=this.taskName.value,s=this.description.value,n=this.dueDate.value,o=this.priority.value,d=this.project.value,p=new ce(t,s,n,Number(o));r.includes(d)&&b[r.indexOf(d)].add(p),J.reset()}function ae(e){e.preventDefault();const t=this.editTaskName.value,s=this.editDescription.value,n=this.editDueDate.value,o=this.editPriority.value;r.includes(E)&&b[r.indexOf(E)].update(B,d=>({...d,taskName:t,description:s,dueDate:n,priority:Number(o)})),W.reset()}const ue=e=>{D=e.target.parentElement.parentElement.parentElement.id,r.includes(E)&&b[r.indexOf(E)].remove(D)},me=e=>{D=e.target.parentElement.id,r.includes(E)&&b[r.indexOf(E)].remove(D)},pe=document.getElementById("add-todo"),A=document.getElementById("dialog"),be=document.getElementById("cancel"),ye=document.getElementById("editCancel"),J=document.getElementById("form"),W=document.getElementById("editForm"),N=document.getElementById("project"),_=document.getElementById("todoList"),fe=document.getElementById("todoTemplate").content.firstElementChild,R=document.getElementById("editDialog"),Le=document.getElementById("menu"),c=document.getElementById("sideBar"),l=document.getElementById("content"),z=document.getElementById("projectForm"),H=document.getElementById("projectDialog"),ge=document.getElementById("addProject"),he=document.getElementById("projectCancelBtn"),K=document.getElementById("projectWrapper"),F=document.getElementById("title"),G=document.querySelector(".inboxDiv");let B,E="Inbox",M;Le.addEventListener("click",()=>{window.innerWidth>=1280?c.classList.contains("md:-translate-x-full")?(c.classList.remove("md:-translate-x-full"),c.classList.add("md:translate-x-0"),l.classList.add("md:translate-x-80"),l.classList.add("md:w-[64%]"),l.classList.add("lg:w-3/4"),l.classList.add("xl:w-4/5")):(c.classList.add("md:-translate-x-full"),c.classList.remove("md:translate-x-0"),l.classList.remove("md:translate-x-80"),l.classList.remove("md:w-[64%]"),l.classList.remove("lg:w-3/4"),l.classList.remove("xl:w-4/5")):window.innerWidth>=1024?c.classList.contains("md:-translate-x-full")?(c.classList.remove("md:-translate-x-full"),c.classList.add("md:translate-x-0"),l.classList.add("md:translate-x-80"),l.classList.add("md:w-[64%]"),l.classList.add("lg:w-3/4")):(c.classList.add("md:-translate-x-full"),c.classList.remove("md:translate-x-0"),l.classList.remove("md:translate-x-80"),l.classList.remove("md:w-[64%]"),l.classList.remove("lg:w-3/4")):window.innerWidth>=768?c.classList.contains("md:-translate-x-full")?(c.classList.remove("md:-translate-x-full"),c.classList.add("md:translate-x-0"),l.classList.add("md:translate-x-80"),l.classList.add("md:w-[64%]")):(c.classList.add("md:-translate-x-full"),c.classList.remove("md:translate-x-0"),l.classList.remove("md:translate-x-80"),l.classList.remove("md:w-[64%]")):c.classList.contains("translate-x-0")?c.classList.remove("translate-x-0"):c.classList.add("translate-x-0")});const ve=()=>A.showModal();pe.addEventListener("click",ve);const k=()=>A.close();be.addEventListener("click",k);const Ee=e=>{B=e.target.parentElement.parentElement.parentElement.id,R.showModal()},O=()=>R.close();ye.addEventListener("click",O);const xe=()=>H.showModal();ge.addEventListener("click",xe);const Q=()=>H.close();he.addEventListener("click",Q);J.addEventListener("submit",le);W.addEventListener("submit",ae);z.addEventListener("submit",ne);function De(){const e=document.getElementById("projectError");if(r.includes(this.projectName.value))return e.textContent="This Project Already Exists!","error";e.textContent=""}const Se=()=>{const e=document.createElement("option");e.id=r[r.length-1],e.value=r[r.length-1],e.textContent=r[r.length-1],N.appendChild(e)},Ie=({data:e})=>{const t=document.getElementById(e.title);N.removeChild(t)},je=()=>{r.forEach(e=>{const t=document.createElement("option");t.id=e,t.value=e,t.textContent=e,N.appendChild(t)})},we=({_id:e,data:t})=>{const s=document.createElement("div");s.classList.add("flex","justify-between"),s.id=e;const n=document.createElement("p");n.addEventListener("click",X),n.classList.add("cursor-pointer"),n.textContent=t.title,s.appendChild(n);const o=document.createElement("span");return o.addEventListener("click",re),o.classList.add("cursor-pointer","material-symbols-rounded"),o.textContent="delete",s.appendChild(o),s},Ce=(e,{collection:t})=>{K.replaceChildren(...t.slice(1).map(we))},Pe=()=>{K.removeChild(document.getElementById(w))},Ne=({_id:e,data:t})=>{const s=fe.cloneNode(!0);return s.id=e,s.querySelector(".priority").addEventListener("click",me),s.querySelector(".edit").addEventListener("click",Ee),s.querySelector(".delete").addEventListener("click",ue),s.querySelector(".taskName").textContent=t.taskName,t.description===""&&(s.querySelector(".descriptionSpacer").classList.add("hidden"),s.querySelector(".description").classList.add("hidden")),t.description!==""&&(s.querySelector(".description").textContent=t.description),t.dueDate===""&&(s.querySelector(".dueDateSpacer").classList.add("hidden"),s.querySelector(".dueDate").classList.add("hidden")),t.dueDate!==""&&(s.querySelector(".dueDate").textContent=t.dueDate),t.priority===1?s.querySelector(".priority").classList.add("border-red-500"):t.priority===2?s.querySelector(".priority").classList.add("border-orange-500"):t.priority===3?s.querySelector(".priority").classList.add("border-blue-500"):s.querySelector(".priority").classList.add("border-slate-400"),s},I=(e,{collection:t})=>{_.replaceChildren(...t.map(Ne))},C=({data:e})=>{const t=document.getElementById(B),s=t.querySelector(".taskName"),n=t.querySelector(".descriptionSpacer"),o=t.querySelector(".description"),d=t.querySelector(".dueDateSpacer"),p=t.querySelector(".dueDate"),f=t.querySelector(".priority");s.textContent=e.taskName,e.description===""&&(n.classList.add("hidden"),o.classList.add("hidden")),e.description!==""&&(o.classList.contains("hidden")&&(n.classList.remove("hidden"),o.classList.remove("hidden")),o.textContent=e.description),e.dueDate===""&&(d.classList.add("hidden"),p.classList.add("hidden")),e.dueDate!==""&&(p.classList.contains("hidden")&&(d.classList.remove("hidden"),p.classList.remove("hidden")),t.querySelector(".dueDate").textContent=e.dueDate),e.priority===1?(f.classList.remove("border-orange-400","border-blue-500","border-slate-400"),f.classList.add("border-red-500")):e.priority===2?(f.classList.remove("border-red-500","border-blue-500","border-slate-400"),f.classList.add("border-orange-400")):e.priority===3?(f.classList.remove("border-red-500","border-orange-400","border-slate-400"),f.classList.add("border-blue-500")):(f.classList.remove("border-red-500","border-orange-400","border-blue-500"),f.classList.add("border-slate-400"))},P=()=>{_.removeChild(document.getElementById(D))},Be=m.find(e=>e.title.startsWith("Inbox"));G.id=Be[0]._id;G.addEventListener("click",X);function X(e){const t=e.target.closest("div").id;M=F.textContent,E=e.target.textContent,F.textContent=e.target.textContent;const s=m.findById(t);de(M,E),I(t,{collection:s.data.findAll()})}m.subscribe("add",Q);m.subscribe("add",Ce);m.subscribe("add",ie);m.subscribe("add",v);m.subscribe("remove",Pe);m.subscribe("remove",Ie);m.subscribe("remove",v);y.subscribe("add",I);y.subscribe("add",k);y.subscribe("add",v);y.subscribe("update",O);y.subscribe("update",C);y.subscribe("update",v);y.subscribe("remove",P);y.subscribe("remove",v);oe();je();m.subscribe("add",Se);
